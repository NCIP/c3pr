<?xml version="1.0"?>

<!-- ================================================================= -->
<!-- C3PR master build file                                          -->
<!-- ================================================================= -->
<project name="c3pr-grid" default="build-grid" xmlns:ivy="antlib:org.apache.ivy.ant">
	<property name="parent.dir" value="${basedir}/.." />
	<property name="antfiles.dir" location="${parent.dir}/../antfiles"/>
	<property file="${antfiles.dir}/build.properties" />
	<property file="${antfiles.dir}/c3pr-ivy.properties" />
	<import file="${antfiles.dir}/common.xml"/>
	
	<!-- Give user the chance to override properties -->
    <property environment="env"/>

    <property name="ant.home" value="${env.ANT_HOME}"/>

    <target name="prepareIntroduceServices" depends="resolve"
            description="Prepare all Introduce generated services">
        <ant antfile="build.xml" dir="${projects.dir}/grid" inheritall="false"
             target="prepareIntroduceService">

        </ant>
    </target>

    <!-- =============================================================== -->
    <!-- c3pr Protocol Ingestion Grid Service                            -->
    <!-- =============================================================== -->
    <target name="build-grid" depends="resolve"
            description="Builds the c3p3 Registration Consumer grid node">
        <ant inheritAll="false" antfile="build.xml" target="all"/>
    </target>

    <target name="deploy-grid-RegistrationConsumer" depends="resolve"
            description="Will deploy the RegistrationConsumer grid service">
        <ant antfile="build.xml" inheritall="false"
             target="deployTomcat-RegistrationConsumer"/>
    </target>

    <target name="deploy-grid-StudyConsumer" depends="resolve"
            description="Will deploy the RegistrationConsumer grid service">
        <ant antfile="build.xml" inheritall="false"
             target="deployTomcat-StudyConsumer"/>
    </target>

    <target name="deploySkeletonRegistrationGridService" depends="resolve"
            description="Will deploy the Skeleton RegistrationConsumer grid service">
        <ant antfile="build.xml" inheritall="false"
             target="deploySkeletonRegistrationGridService"/>
    </target>

    <target name="deploySkeletonStudyGridService" depends="resolve"
            description="Will deploy the Skeleton RegistrationConsumer grid service">
        <ant antfile="build.xml" inheritall="false"
             target="deploySkeletonStudyGridService"/>
    </target>
	
</project>

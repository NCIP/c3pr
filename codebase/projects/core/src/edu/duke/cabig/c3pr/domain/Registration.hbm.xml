<?xml version="1.0" encoding='UTF-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
                            "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                            "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >

<!-- DO NOT EDIT: This is a generated file that is synchronized -->
<!-- by MyEclipse Hibernate tool integration.                   -->
<!-- Created Thu Apr 20 17:45:41 EDT 2006                         -->
<hibernate-mapping package="edu.duke.cabig.c3pr.domain">

    <class name="Registration" table="REGISTRATION" lazy="false">

 		<id name="id" column="REGISTRATION_ID" type="java.lang.Integer">
			<generator class="native">
				<param name="sequence">C3PR_GENERAL_SEQ</param>
			</generator>
		</id>         
 		
        <property name="comments" column="COMMENTS" type="java.lang.String" />
        <property name="consentDate" column="CONSENT_DATE" type="java.util.Date" />
        <property name="consentVersionSigned" column="CONSENT_VERSION" type="java.lang.String" />
        <property name="consentSignedForCurrentAmendmentFlag" column="CONSENT_FOR_CURRENT_AMENDMENT" type="java.lang.String" />
        <property name="eligibility" column="ELIGIBILITY" type="java.lang.String" />
        <property name="patientPostionId" column="PATIENT_POSTION_ID" type="java.lang.String" />
        <property name="sequenceNumber" column="SEQ_NUM" type="java.lang.String" />
        <property name="modificationBy" column="MODIFICATION_BY" type="java.lang.String" />
        <property name="modificationType" column="MODIFICATION_TYPE" type="java.lang.String"/>
        <property name="modificationDate" column="MODIFICATION_DATE" type="java.util.Date" />
        <property name="createdBy" column="ORIGINAL_USER" type="java.lang.String" />
        <property name="creationDate" column="ORIGINAL_DATE" type="java.util.Date" />

		<component name="notCountTowardsAccrualIndicator" class="NotCountTowardsAccrualIndicator" lazy="false" >
			<property name="notCountTowardsAccrualFlag" column="NOT_COUNT_TOWARDS_ACCRUAL" type="true_false" />
	        <property name="comments" column="NOT_COUNT_ACCRUAL_COMMENTS" type="java.lang.String" />
			<many-to-one name="reason" column="NOT_COUNT_ACCRUAL_REASON_CODE" class="NotCountTowardsAccrualReason" cascade="none" lazy="false"/>
		</component>

		<component name="patientRegistrationInformation" class="PatientRegistrationInformation" lazy="false">
			<property name="id" column="REGISTRATION_ID" insert="false" update="false"/>
	        <property name="firstName" column="PERSON_FIRST_NAME" type="java.lang.String" />
	        <property name="middleName" column="PERSON_MIDDLE_NAME" type="java.lang.String" />
    	    <property name="lastName" column="PERSON_LAST_NAME" type="java.lang.String" />
	        <property name="birthDate" column="PERSON_BIRTHDATE" type="java.util.Date" />
	        <property name="ssn" column="PERSON_SSN" type="java.lang.String" />
	        <property name="addressLine1" column="ADDRESS_ADDRESS_LINE_1" type="java.lang.String" />
	        <property name="addressLine2" column="ADDRESS_ADDRESS_LINE_2" type="java.lang.String" />
	        <property name="zipPostalCode" column="ADDRESS_ZIP_POSTAL_CODE" type="java.lang.String" />
	        <property name="city" column="ADDRESS_CITY" type="java.lang.String" />
	        <property name="stateProvince" column="ADDRESS_STATE_PROVINCE" type="java.lang.String" />

	        <many-to-one name="suffix" column="PERSON_SUFFIX" class="edu.duke.cabig.c3pr.domain.Suffix" cascade="none" lazy="false"/>
    	    <many-to-one name="gender" column="PERSON_SEX" class="edu.duke.cabig.c3pr.domain.Gender" cascade="none" lazy="false"/>
        	<many-to-one name="ethnicity" column="PERSON_ETHNICITY" class="edu.duke.cabig.c3pr.domain.Ethnicity" cascade="none" lazy="false"/>


			<set name="raceCollection" table="REGISTRATION_RACE" cascade="none" lazy="false">
				<key column="REGISTRATION_ID" not-null="true"/>
				<many-to-many column="RACE_CODE" class="edu.duke.cabig.c3pr.domain.Race"/>
			</set>

			<set name="participantIdentifierCollection" cascade="all,delete-orphan" lazy="false" inverse="true">
				<key column="REGISTRATION_ID" not-null="true"/>
				<one-to-many class="RegistrationParticipantIdentifier"/>
			</set>
				
		</component>

 		<many-to-one name="screenedAmendment" column="SCREENED_AMENDMENT_ID" class="edu.duke.cabig.c3pr.domain.Amendment" cascade="none" lazy="proxy"/>
 		<many-to-one name="protocolArm" column="PROTOCOL_ARM_ID" class="edu.duke.cabig.c3pr.domain.ProtocolArm" cascade="none" lazy="proxy"/>
 		<many-to-one name="amendment" column="PROTOCOL_AMEND_ID" class="edu.duke.cabig.c3pr.domain.Amendment" cascade="none" lazy="proxy"/>
 		<many-to-one name="institution" column="BRANCH_CODE" class="edu.duke.cabig.c3pr.domain.Institution" not-null="true" cascade="none" lazy="false"/>
 		<many-to-one name="fundingSource" column="FUNDING_SOURCE_CODE" class="FundingSource" cascade="none" lazy="false"/>
        <many-to-one name="registrarBranch" column="REGISTRAR_BRANCH" class="edu.duke.cabig.c3pr.domain.Institution" not-null="true" cascade="none" lazy="false"/>
        <many-to-one name="registeringInstitution" column="INSTITUTE_CODE" class="edu.duke.cabig.c3pr.domain.Institution" not-null="true" cascade="none" lazy="false"/>

		<set name="diseaseSiteCollection" table="REGISTRATION_DISEASE_SITE" cascade="all" lazy="false">
			<key column="REGISTRATION_ID" not-null="true"/>
			<many-to-many column="DISEASE_SITE_CODE" class="edu.duke.cabig.c3pr.domain.DiseaseSite"/>
		</set>

		<set name="diseaseCollection" table="REGISTRATION_DISEASE" cascade="all" lazy="false">
			<key column="REGISTRATION_ID" not-null="true"/>
			<many-to-many column="DISEASE_CODE" class="edu.duke.cabig.c3pr.domain.Disease"/>
		</set>

		<set name="participantRegistrationStatusCollection" cascade="all" lazy="false">
			<key column="REGISTRATION_ID" not-null="true"/>
			<one-to-many class="ParticipantRegistrationStatus"/>
		</set>
		
		<set name="registrationParticipantRoleCollection" table="REGISTRATION_PARTICIPANT_ROLE" cascade="all,delete-orphan" inverse="true" lazy="false">
			<key column="REGISTRATION_ID" not-null="true"/>
			<one-to-many class="RegistrationParticipantRole"/>
		</set>

		<set name="eligibilityAnswerCollection" cascade="all,delete-orphan" lazy="false">
			<key column="REGISTRATION_ID" not-null="true"/>
			<one-to-many class="EligibilityAnswer"/>
		</set>

    </class>
    
</hibernate-mapping>

<beans
        xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:p="http://www.springframework.org/schema/p"
        xmlns:util="http://www.springframework.org/schema/util"
        xsi:schemaLocation="
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd
    ">


    <util:map id="messageTypesMapping"
              map-class="java.util.LinkedHashMap">
        <entry key="registration"
               value="REGISTER_SUBJECT"/>
        <entry key="study"
               value="STUDY_CREATION"/>
    </util:map>

    <bean id="messageBroadcaster"
          class="edu.duke.cabig.c3pr.esb.impl.CaXchangeMessageBroadcasterImpl">
        <property name="caXchangeClient">
            <bean class="gov.nih.nci.cagrid.caxchange.client.CaXchangeRequestProcessorClient">
                <constructor-arg value="${esb.brokerUrl}"/>
            </bean>
        </property>
        <property name="messageTypesMapping" ref="messageTypesMapping">
        </property>
    </bean>

</beans>

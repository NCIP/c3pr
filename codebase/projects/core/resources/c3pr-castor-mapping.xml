<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapping PUBLIC "-//EXOLAB/Castor Mapping DTD Version 1.0//EN"
        "http://castor.org/mapping.dtd">

<mapping>

    <class name="edu.duke.cabig.c3pr.domain.Address">
        <map-to xml="address" ns-uri="http://semanticbits.com/registration.xsd"/>
        <field name="city" type="string">
            <bind-xml name="city" node="element" xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="countryCode" type="string">
            <bind-xml name="countryCode" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="postalCode" type="string">
            <bind-xml name="postalCode" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="stateCode" type="string">
            <bind-xml name="stateCode" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="streetAddress" type="string">
            <bind-xml name="streetAddress" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
    </class>

    <class name="edu.duke.cabig.c3pr.domain.Identifier">
        <map-to xml="identifer" ns-uri="http://edu.duke.c3pr.domain"/>
        <field name="source" type="string">
            <bind-xml name="source" node="element" xmlns="http://edu.duke.c3pr.domain"
                    />
        </field>
        <field name="type" type="string">
            <bind-xml name="type" node="element" xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="value" type="string">
            <bind-xml name="value" node="element" xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="primaryIndicator" type="boolean">
            <bind-xml name="isprimary" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
    </class>


    <class name="edu.duke.cabig.c3pr.domain.Person">
        <map-to xml="person" ns-uri="http://edu.duke.c3pr.domain"/>
        <field name="gridId" type="string">
            <bind-xml name="gridId" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="firstName" type="string">
            <bind-xml name="firstName" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="lastName" type="string">
            <bind-xml name="lastName" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="address" type="edu.duke.cabig.c3pr.domain.Address">
            <bind-xml name="address" node="element" xmlns="http://edu.duke.c3pr.domain"
                    />
        </field>

    </class>

    <class name="edu.duke.cabig.c3pr.domain.Participant" extends="edu.duke.cabig.c3pr.domain.Person">
        <map-to xml="participant" ns-uri="http://edu.duke.c3pr.domain"/>
        <field name="gridId" type="string">
            <bind-xml name="gridId" node="attribute"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="administrativeGenderCode" type="string">
            <bind-xml name="administrativeGenderCode" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="birthDate" type="string" handler="edu.duke.cabig.c3pr.xml.DateFieldHandler">
            <bind-xml name="birthDate" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="ethnicGroupCode" type="string">
            <bind-xml name="ethnicGroupCode" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="maritalStatusCode" type="string">
            <bind-xml name="maritalStatusCode" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="raceCode" type="string">
            <bind-xml name="raceCode" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="identifiers" type="edu.duke.cabig.c3pr.domain.Identifier"
               collection="collection">
            <bind-xml name="identifier" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
    </class>


    <class name="edu.duke.cabig.c3pr.domain.Study">
        <map-to xml="study" ns-uri="http://edu.duke.c3pr.domain"/>
        <field name="gridId" type="string">
            <bind-xml name="gridId" node="attribute"/>
        </field>
        <field name="blindedIndicator" type="string">
            <bind-xml name="blindedIndicator" node="element"/>
        </field>
        <field name="multiInstitutionIndicator" type="string">
            <bind-xml name="multiInstitutionIndicator" node="element"/>
        </field>
        <field name="randomizedIndicator" type="string">
            <bind-xml name="randomizedIndicator" node="element"/>
        </field>
        <field name="shortTitleText" type="string">
            <bind-xml name="shortTitleText" node="element"/>
        </field>
        <field name="longTitleText" type="string">
            <bind-xml name="longTitleText" node="element"/>
        </field>
        <field name="descriptionText" type="string">
            <bind-xml name="descriptionText" node="element"/>
        </field>
        <field name="precisText" type="string">
            <bind-xml name="precisText" node="element"/>
        </field>
        <field name="phaseCode" type="string">
            <bind-xml name="phaseCode" node="element"/>
        </field>
        <field name="sponsorCode" type="string">
            <bind-xml name="sponsorCode" node="element"/>
        </field>
        <field name="status" type="string">
            <bind-xml name="status" node="element"/>
        </field>
        <field name="type" type="string">
            <bind-xml name="type" node="element"/>
        </field>
        <field name="primaryIdentifier" type="string">
            <bind-xml name="primaryIdentifier" node="element"/>
        </field>
        <field name="targetAccrualNumber" type="integer">
            <bind-xml name="targetAccrualNumber" node="element"/>
        </field>
        <field name="identifiers" type="edu.duke.cabig.c3pr.domain.Identifier"
               collection="collection"/>
    </class>



    <class name="edu.duke.cabig.c3pr.domain.StudyParticipantAssignment">
        <map-to xml="registration" ns-uri="http://edu.duke.c3pr.domain"/>

        <field name="healthCareSiteGridId" type="string"
               handler="edu.duke.cabig.c3pr.xml.HealthCareSiteGridIdFieldHandler">
            <bind-xml name="healthCareSiteGridId" node="attribute"/>
        </field>
        <field name="studyGridId" type="string" required="true"
               handler="edu.duke.cabig.c3pr.xml.StudyGridIdFieldHandler">
            <bind-xml name="studyGridId" node="attribute"/>
        </field>
        <field name="informedConsentSignedDate" type="string"
               handler="edu.duke.cabig.c3pr.xml.DateFieldHandler">
            <bind-xml name="informedConsentFormSignedDate" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="startDate" type="string"
               handler="edu.duke.cabig.c3pr.xml.DateFieldHandler">
            <bind-xml name="startDate" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="studyParticipantIdentifier" type="string">
            <bind-xml name="studyParticipantIdentifier" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <field name="eligibilityIndicator" type="boolean">
            <bind-xml name="eligibilityIndicator" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <!--Mapping to Participant-->
        <field name="participant" type="edu.duke.cabig.c3pr.domain.Participant">
            <bind-xml name="participant" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
        <!--<field name="study" type="edu.duke.cabig.c3pr.domain.Study">-->
            <!--<bind-xml name="study" node="element"-->
                      <!--xmlns="http://edu.duke.c3pr.domain"/>-->
        <!--</field>-->
        <field name="identifiers" type="edu.duke.cabig.c3pr.domain.Identifier"
               collection="collection">
            <bind-xml name="identifier" node="element"
                      xmlns="http://edu.duke.c3pr.domain"/>
        </field>
    </class>


</mapping>

DROP SEQUENCE IDENTIFIERS_ID_SEQ;
DROP TABLE IDENTIFIERS CASCADE CONSTRAINTS ;

DROP SEQUENCE ADDRESSES_ID_SEQ;
DROP TABLE ADDRESSES CASCADE CONSTRAINTS ;

DROP SEQUENCE PARTICIPANTS_ID_SEQ;
DROP TABLE PARTICIPANTS CASCADE CONSTRAINTS ;

DROP SEQUENCE STUDIES_ID_SEQ;
DROP TABLE STUDIES CASCADE CONSTRAINTS ;

DROP SEQUENCE EPOCHS_ID_SEQ;
DROP TABLE EPOCHS CASCADE CONSTRAINTS ;

DROP SEQUENCE ARMS_ID_SEQ;
DROP TABLE ARMS CASCADE CONSTRAINTS ;

DROP SEQUENCE STUDY_SITES_ID_SEQ;
DROP TABLE STUDY_SITES CASCADE CONSTRAINTS ;

DROP SEQUENCE HEALTHCARE_SITES_ID_SEQ;
DROP TABLE HEALTHCARE_SITES CASCADE CONSTRAINTS ; 

DROP SEQUENCE INVESTIGATORS_ID_SEQ;
DROP TABLE INVESTIGATORS CASCADE CONSTRAINTS ;

DROP SEQUENCE STUDY_INVESTIGATORS_ID_SEQ;
DROP TABLE STUDY_INVESTIGATORS CASCADE CONSTRAINTS ;

DROP SEQUENCE HC_SITE_INVESTIGATORS_ID_SEQ;
DROP TABLE HC_SITE_INVESTIGATORS CASCADE CONSTRAINTS ;

DROP SEQUENCE SCHEDULED_ARMS_ID_SEQ;
DROP TABLE SCHEDULED_ARMS CASCADE CONSTRAINTS ;

DROP SEQUENCE STUDY_PARTICIPANT_ASSIG_ID_SEQ;
DROP TABLE STUDY_PARTICIPANT_ASSIGNMENTS CASCADE CONSTRAINTS ;

DROP SEQUENCE STUDY_PERSONNELS_ID_SEQ;
DROP TABLE STUDY_PERSONNELS CASCADE CONSTRAINTS ;

DROP SEQUENCE RESEARCH_STAFFS_ID_SEQ;
DROP TABLE RESEARCH_STAFFS CASCADE CONSTRAINTS ;

DROP SEQUENCE ELIGIBILITY_CRITERIAS_ID_SEQ;
DROP TABLE ELIGIBILITY_CRITERIAS CASCADE CONSTRAINTS ;

DROP SEQUENCE PRT_ELIGIBILITY_ANS_ID_SEQ;
DROP TABLE SUBJECT_ELIGIBILITY_ANSWERS CASCADE CONSTRAINTS ;

CREATE TABLE IDENTIFIERS ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,
	GRID_ID VARCHAR2(500),
	VALUE VARCHAR2(50) NOT NULL,
	TYPE VARCHAR2(50),
	SOURCE VARCHAR2(50) NOT NULL,
	STU_ID NUMBER(10),
	PRT_ID NUMBER(10),
	SPA_ID NUMBER(10),
	PRIMARY_INDICATOR VARCHAR2(3)
);

CREATE TABLE ADDRESSES ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,
	GRID_ID VARCHAR2(500),	
	STREET_ADDRESS VARCHAR2(200) NOT NULL,
	CITY VARCHAR2(200) NOT NULL,
	STATE_CODE VARCHAR2(200) NOT NULL,
	COUNTRY_CODE VARCHAR2(200) NOT NULL,
	POSTAL_CODE VARCHAR2(10)
) ;


CREATE TABLE PARTICIPANTS ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,	
	GRID_ID VARCHAR2(500),		
	FIRST_NAME VARCHAR2(200),
	LAST_NAME VARCHAR2(200),
	BIRTH_DATE DATE,
	ADMINISTRATIVE_GENDER_CODE VARCHAR(50) NOT NULL,
	RACE_CODE VARCHAR(50),
	ETHNIC_GROUP_CODE VARCHAR2(50),
	MARITAL_STATUS_CODE VARCHAR2(50),
	ADD_ID NUMBER(10)
) ;

CREATE TABLE STUDIES ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,	
	GRID_ID VARCHAR2(500),			
	BLINDED_INDICATOR VARCHAR2(50),
	DISEASE_CODE VARCHAR2(50),
	LONG_TITLE_TEXT VARCHAR2(200) NOT NULL,
	MONITOR_CODE VARCHAR2(200),
	MULTI_INSTITUTION_INDICATOR VARCHAR2(3) NOT NULL,
	PHASE_CODE VARCHAR2(50) NOT NULL,
	RANDOMIZED_INDICATOR VARCHAR2(3),
	SHORT_TITLE_TEXT VARCHAR2(200),
	SPONSOR_CODE VARCHAR2(200) NOT NULL,
	TARGET_ACCRUAL_NUMBER NUMBER(4),
	TYPE VARCHAR2(50) NOT NULL,
	DESCRIPTION_TEXT VARCHAR2(2000),
	PRECIS_TEXT VARCHAR2(200),
	STATUS VARCHAR2(50) NOT NULL
) ;

CREATE TABLE EPOCHS ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,		
	GRID_ID VARCHAR2(500),			
	NAME VARCHAR2(50) NOT NULL,
	DESCRIPTION_TEXT VARCHAR2(200),
	STU_ID NUMBER(10) NOT NULL
) ;


CREATE TABLE ARMS ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,					
	GRID_ID VARCHAR2(500),	
	NAME VARCHAR2(50) NOT NULL,
	DESCRIPTION_TEXT VARCHAR2(50),
	TARGET_ACCRUAL_NUMBER NUMBER(4),
	EPH_ID NUMBER(10) NOT NULL
) ;

CREATE TABLE STUDY_SITES ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,
	GRID_ID VARCHAR2(500),
	IRB_APPROVAL_DATE DATE NOT NULL,
	ROLE_CODE VARCHAR2(200) NOT NULL,
	STATUS_CODE VARCHAR2(200) NOT NULL,
	START_DATE DATE NOT NULL,
	END_DATE DATE,
	STUDY_ID NUMBER(10) NOT NULL,
	HCS_ID NUMBER(10) NOT NULL
) ;

CREATE TABLE HEALTHCARE_SITES ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,
	GRID_ID VARCHAR2(500),		
	NAME VARCHAR2(200) NOT NULL,
	DESCRIPTION_TEXT VARCHAR2(200),
	ADDRESS_ID NUMBER(10) NOT NULL,
	NCI_INSTITUTE_CODE VARCHAR2(50)
) ;


CREATE TABLE INVESTIGATORS ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,
	GRID_ID VARCHAR2(500),			
	FIRST_NAME VARCHAR2(200),
	LAST_NAME VARCHAR2(200),
	NCI_IDENTIFIER VARCHAR2(50)
) ;

CREATE TABLE STUDY_INVESTIGATORS ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,
	GRID_ID VARCHAR2(500),				
	STS_ID NUMBER(10) NOT NULL,
	HSI_ID NUMBER(10) NOT NULL,
	ROLE_CODE VARCHAR(50) NOT NULL,
	START_DATE DATE,
	END_DATE DATE,
	STATUS_CODE VARCHAR2(50)
) ;

CREATE TABLE HC_SITE_INVESTIGATORS ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,
	GRID_ID VARCHAR2(500),	
	STATUS_CODE VARCHAR2(200),
  	STATUS_DATE DATE,
	INV_ID NUMBER(10) NOT NULL,
	HCS_ID NUMBER(10) NOT NULL
) ;

CREATE TABLE SCHEDULED_ARMS ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,
	GRID_ID VARCHAR2(500),	
	START_DATE DATE NOT NULL,
	ELIGIBILITY_INDICATOR VARCHAR2(10) NOT NULL,
	ELIGIBILITY_WAIVER_REASON_TEXT VARCHAR2(200),
	ARM_ID NUMBER(10) NOT NULL,
	SPA_ID NUMBER(10) NOT NULL
) ;

CREATE TABLE STUDY_PARTICIPANT_ASSIGNMENTS ( 
	ID NUMBER(10) NOT NULL,
	VERSION NUMBER(4) NOT NULL,
	GRID_ID VARCHAR2(500),						
	STUDY_PARTICIPANT_IDENTIFIER VARCHAR2(50) NOT NULL,
	ELIGIBILITY_INDICATOR  VARCHAR2(50) NOT NULL,
	START_DATE DATE NOT NULL,
	ELIGIBILITY_WAIVER_REASON_TEXT VARCHAR2(200),
	INFORMED_CONSENT_SIGNED_DATE DATE,
	PRT_ID NUMBER(10) NOT NULL,
	STS_ID NUMBER(10) NOT NULL,
	INFORMED_CONSENT_VERSION NUMBER(4),
	TREATING_PHYSICIAN VARCHAR2(50) 
) ;

CREATE TABLE STUDY_PERSONNELS (
  ID NUMBER(10) NOT NULL,
  VERSION NUMBER(4) NOT NULL,	 
  GRID_ID VARCHAR2(500),		
  RESEARCH_STAFFS_ID NUMBER(10),
  STS_ID NUMBER(10),
  ROLE_CODE VARCHAR(50) NOT NULL,
  START_DATE DATE,
  END_DATE DATE,
  STATUS_CODE VARCHAR2(50)
);


CREATE TABLE RESEARCH_STAFFS (
  ID NUMBER(10) NOT NULL,
  VERSION NUMBER(4) NOT NULL,	 
  GRID_ID VARCHAR2(500),		
  FIRST_NAME VARCHAR2(200),
  LAST_NAME VARCHAR2(200)
);

CREATE TABLE ELIGIBILITY_CRITERIAS (
  ID NUMBER(10) NOT NULL,
  VERSION NUMBER(4) NOT NULL,	 
  GRID_ID VARCHAR2(500),	
  QUESTION_NUMBER NUMBER(4) NOT NULL,	 
  QUESTION_TEXT VARCHAR2(500) NOT NULL,
  NOT_APPLICABLE_INDICATOR VARCHAR2(3),
  STU_ID NUMBER(10) NOT NULL,  
  DTYPE VARCHAR2(3) NOT NULL
);

CREATE TABLE SUBJECT_ELIGIBILITY_ANSWERS (
  ID NUMBER(10) NOT NULL,
  GRID_ID VARCHAR2(500),		
  ANSWER_TEXT VARCHAR2(500) NOT NULL,
  ELGCT_ID NUMBER(10) NOT NULL,  
  SPA_ID NUMBER(10) NOT NULL 
);

ALTER TABLE ADDRESSES ADD CONSTRAINT PK_ADDRESSES 
	PRIMARY KEY (ID) ;

ALTER TABLE ARMS ADD CONSTRAINT PK_ARMS 
	PRIMARY KEY (ID) ;

ALTER TABLE EPOCHS ADD CONSTRAINT PK_EPOCHS 
	PRIMARY KEY (ID) ;

ALTER TABLE HC_SITE_INVESTIGATORS ADD CONSTRAINT PK_HC_SITE_INVESTIGATORS 
	PRIMARY KEY (ID) ;

ALTER TABLE HEALTHCARE_SITES ADD CONSTRAINT PK_HEALTHCARE_SITES 
	PRIMARY KEY (ID) ;

ALTER TABLE INVESTIGATORS ADD CONSTRAINT PK_INVESTIGATORS 
	PRIMARY KEY (ID) ;

ALTER TABLE PARTICIPANTS ADD CONSTRAINT PK_PARTICIPANTS 
	PRIMARY KEY (ID) ;

ALTER TABLE SCHEDULED_ARMS ADD CONSTRAINT PK_SCHEDULED_ARMS 
	PRIMARY KEY (ID) ;

ALTER TABLE STUDIES ADD CONSTRAINT PK_Study 
	PRIMARY KEY (ID) ;

ALTER TABLE ELIGIBILITY_CRITERIAS ADD CONSTRAINT PK_ELIGIBILITY_CRITERIAS 
	PRIMARY KEY (ID) ;

ALTER TABLE SUBJECT_ELIGIBILITY_ANSWERS ADD CONSTRAINT PK_PRT_ELIGIBILITY_ANSWERS 
	PRIMARY KEY (ID) ;

ALTER TABLE STUDY_INVESTIGATORS ADD CONSTRAINT PK_STUDY_INVESTIGATORS 
	PRIMARY KEY (ID) ;

ALTER TABLE STUDY_PARTICIPANT_ASSIGNMENTS ADD CONSTRAINT PK_STUDY_PARTICIPANT_ASSIGNMEN 
	PRIMARY KEY (ID) ;

ALTER TABLE STUDY_SITES ADD CONSTRAINT PK_STUDY_SITES 
	PRIMARY KEY (ID) ;

ALTER TABLE ARMS ADD CONSTRAINT FK_ARM_EPH 
	FOREIGN KEY (EPH_ID) REFERENCES EPOCHS (ID) ;

ALTER TABLE EPOCHS ADD CONSTRAINT FK_EPH_STU 
	FOREIGN KEY (STU_ID) REFERENCES STUDIES (ID) ;

ALTER TABLE HC_SITE_INVESTIGATORS ADD CONSTRAINT FK_HSI_HCS 
	FOREIGN KEY (HCS_ID) REFERENCES HEALTHCARE_SITES (ID) ;

ALTER TABLE HC_SITE_INVESTIGATORS ADD CONSTRAINT FK_HSI_INV 
	FOREIGN KEY (INV_ID) REFERENCES INVESTIGATORS (ID) ;

ALTER TABLE HEALTHCARE_SITES ADD CONSTRAINT FK_HCS_ADD 
	FOREIGN KEY (ADDRESS_ID) REFERENCES ADDRESSES (ID) ;

ALTER TABLE PARTICIPANTS ADD CONSTRAINT FK_PRT_ADD 
	FOREIGN KEY (ADD_ID) REFERENCES ADDRESSES (ID) ;

ALTER TABLE SCHEDULED_ARMS ADD CONSTRAINT FK_SCA_ARM 
	FOREIGN KEY (ARM_ID) REFERENCES ARMS (ID) ;

ALTER TABLE SCHEDULED_ARMS ADD CONSTRAINT FK_SCA_SPA 
	FOREIGN KEY (SPA_ID) REFERENCES STUDY_PARTICIPANT_ASSIGNMENTS (ID) ;

ALTER TABLE STUDY_INVESTIGATORS ADD CONSTRAINT FK_STI_HSI 
	FOREIGN KEY (HSI_ID) REFERENCES HC_SITE_INVESTIGATORS (ID) ;

ALTER TABLE STUDY_INVESTIGATORS ADD CONSTRAINT FK_STI_STS 
	FOREIGN KEY (STS_ID) REFERENCES STUDY_SITES (ID) ;

ALTER TABLE STUDY_PARTICIPANT_ASSIGNMENTS ADD CONSTRAINT FK_SPA_PRT 
	FOREIGN KEY (PRT_ID) REFERENCES PARTICIPANTS (ID) ;

ALTER TABLE STUDY_PARTICIPANT_ASSIGNMENTS ADD CONSTRAINT FK_SPA_STS 
	FOREIGN KEY (STS_ID) REFERENCES STUDY_SITES (ID) ;
	
ALTER TABLE STUDY_SITES ADD CONSTRAINT FK_STS_HCS 
	FOREIGN KEY (HCS_ID) REFERENCES HEALTHCARE_SITES (ID) ;

ALTER TABLE STUDY_SITES ADD CONSTRAINT FK_STS_STU 
	FOREIGN KEY (STUDY_ID) REFERENCES STUDIES (ID) ;
	
ALTER TABLE IDENTIFIERS ADD CONSTRAINT PK_IDENTIFIERS 
	PRIMARY KEY (ID);

ALTER TABLE IDENTIFIERS ADD CONSTRAINT FK_IDENTIFIERS_PARTICIPANTS 
	FOREIGN KEY (PRT_ID) REFERENCES PARTICIPANTS (ID);

ALTER TABLE IDENTIFIERS ADD CONSTRAINT FK_IDENTIFIERS_SPA 
	FOREIGN KEY (SPA_ID) REFERENCES STUDY_PARTICIPANT_ASSIGNMENTS (ID);

ALTER TABLE IDENTIFIERS ADD CONSTRAINT FK_IDENTIFIERS_STUDIES 
	FOREIGN KEY (STU_ID) REFERENCES STUDIES (ID);

ALTER TABLE STUDY_PERSONNELS ADD CONSTRAINT PK_STUDY_PERSONNELS
	PRIMARY KEY (ID) ;

ALTER TABLE RESEARCH_STAFFS ADD CONSTRAINT PK_RESEARCH_STAFFS 
	PRIMARY KEY (ID) ;	
	
ALTER TABLE STUDY_PERSONNELS ADD CONSTRAINT FK_STDPER_RESSTF
	FOREIGN KEY (RESEARCH_STAFFS_ID) REFERENCES RESEARCH_STAFFS (ID) ;

ALTER TABLE STUDY_PERSONNELS ADD CONSTRAINT FK_STDPER_STDSIT
	FOREIGN KEY (STS_ID) REFERENCES STUDY_SITES (ID) ;

ALTER TABLE ELIGIBILITY_CRITERIAS ADD CONSTRAINT FK_ELGCT_STU 
	FOREIGN KEY (STU_ID) REFERENCES STUDIES (ID) ;

ALTER TABLE SUBJECT_ELIGIBILITY_ANSWERS ADD CONSTRAINT FK_PEA_SPA 
	FOREIGN KEY (SPA_ID) REFERENCES STUDY_PARTICIPANT_ASSIGNMENTS (ID) ;

ALTER TABLE SUBJECT_ELIGIBILITY_ANSWERS ADD CONSTRAINT FK_PEA_EC 
	FOREIGN KEY (ELGCT_ID) REFERENCES ELIGIBILITY_CRITERIAS (ID) ;

CREATE SEQUENCE IDENTIFIERS_ID_SEQ
INCREMENT BY 1
START WITH 1
NOMAXVALUE
MINVALUE 1
NOCYCLE
NOCACHE
NOORDER;	

CREATE SEQUENCE ADDRESSES_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;

CREATE SEQUENCE PARTICIPANTS_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;

CREATE SEQUENCE STUDIES_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;

CREATE SEQUENCE EPOCHS_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;

CREATE SEQUENCE ARMS_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;

CREATE SEQUENCE STUDY_SITES_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;

CREATE SEQUENCE HEALTHCARE_SITES_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;

CREATE SEQUENCE INVESTIGATORS_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;

CREATE SEQUENCE STUDY_INVESTIGATORS_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;

CREATE SEQUENCE HC_SITE_INVEStIGATORS_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;


CREATE SEQUENCE SCHEDULED_ARMS_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;


CREATE SEQUENCE STUDY_PARTICIPANT_ASSIG_ID_SEQ
INCREMENT BY 1
START WITH 0
NOMAXVALUE
MINVALUE 0
NOCYCLE
NOCACHE
NOORDER;


CREATE SEQUENCE STUDY_PERSONNELS_ID_SEQ
INCREMENT BY 1
START WITH 1
NOMAXVALUE
MINVALUE 1
NOCYCLE
NOCACHE
NOORDER;	
	

CREATE SEQUENCE RESEARCH_STAFFS_ID_SEQ
INCREMENT BY 1
START WITH 1
NOMAXVALUE
MINVALUE 1
NOCYCLE
NOCACHE
NOORDER;	

CREATE SEQUENCE ELIGIBILITY_CRITERIAS_ID_SEQ
INCREMENT BY 1
START WITH 1
NOMAXVALUE
MINVALUE 1
NOCYCLE
NOCACHE
NOORDER;	

CREATE SEQUENCE PRT_ELIGIBILITY_ANS_ID_SEQ
INCREMENT BY 1
START WITH 1
NOMAXVALUE
MINVALUE 1
NOCYCLE
NOCACHE
NOORDER;	

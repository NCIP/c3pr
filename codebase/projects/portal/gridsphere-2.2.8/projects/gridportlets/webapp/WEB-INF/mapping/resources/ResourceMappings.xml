<?xml version="1.0" ?>

<!--

Resource mapping file controls mappings between resource descriptor Resources.xml and
underlying resource classes

$Id: ResourceMappings.xml,v 1.1.1.1 2007-02-01 20:43:20 kherm Exp $

-->

<!DOCTYPE mapping PUBLIC "-//EXOLAB/Castor Object Mapping DTD Version 1.0//EN" "http://castor.exolab.org/mapping.dtd">
<mapping>

    <!-- Resource xml file -->
    <class name="org.gridlab.gridsphere.services.resource.ResourceRegistry">
        <map-to xml="grid-resources"/>
        <field name="HardwareResources" type="org.gridlab.gridsphere.services.resource.impl.HardwareResourceImpl" collection="arraylist">
            <bind-xml name="hardware-resource"/>
        </field>
    </class>

    <!-- Resource -->
    <class name="org.gridlab.gridsphere.services.resource.impl.BaseResource">
        <field name="Label" type="string">
            <bind-xml name="label" node="attribute"/>
        </field>
        <field name="Description" type="string">
            <bind-xml name="description" node="attribute"/>
        </field>
        <field name="ChildResources" type="org.gridlab.gridsphere.services.resource.impl.BaseResource" collection="arraylist">
            <bind-xml auto-naming="deriveByClass"/>
        </field>
<!--        <field name="ResourceAttributeMap" type="org.gridlab.gridsphere.services.resource.ResourceAttribute" collection="map">-->
<!--            <bind-xml name="resource-attribute"/>-->
<!--        </field>-->
    </class>

    <!-- Resource attribute -->
    <class name="org.gridlab.gridsphere.services.resource.ResourceAttribute">
        <map-to xml="resource-attribute"/>
        <field name="Name" type="string">
            <bind-xml name="name" node="attribute"/>
        </field>
        <field name="Value" type="string">
            <bind-xml name="value" node="attribute"/>
        </field>
    </class>

    <!-- Hardware resource -->
    <class name="org.gridlab.gridsphere.services.resource.impl.BaseHostResource"
                 extends="org.gridlab.gridsphere.services.resource.impl.BaseResource">
        <map-to xml="host-resource"/>
        <field name="HostName" type="string">
            <bind-xml name="hostname" node="attribute"/>
        </field>
        <field name="InetAddress" type="string">
            <bind-xml name="inetaddress" node="attribute"/>
        </field>
    </class>

    <!-- Hardware resource -->
    <class name="org.gridlab.gridsphere.services.resource.impl.HardwareResourceImpl"
                 extends="org.gridlab.gridsphere.services.resource.impl.BaseHostResource">
        <map-to xml="hardware-resource"/>
        <field name="Image1Url" type="string">
            <bind-xml name="image1url" node="attribute"/>
        </field>
        <field name="Image1Label" type="string">
            <bind-xml name="image1label" node="attribute"/>
        </field>
        <field name="HtmlUrl" type="string">
            <bind-xml name="htmlurl" node="attribute"/>
        </field>
        <field name="Html" type="string">
            <bind-xml name="html" node="element"/>
        </field>
    </class>

    <!-- Cluster resource -->
    <class name="org.gridlab.gridsphere.services.computer.ClusterResource"
           extends="org.gridlab.gridsphere.services.resource.impl.BaseResource">
        <map-to xml="cluster-resource"/>
        <field name="Name" type="string">
            <bind-xml name="name" node="attribute"/>
        </field>
    </class>

    <!-- Cluster node -->
    <class name="org.gridlab.gridsphere.services.computer.ClusterNode"
          extends="org.gridlab.gridsphere.services.resource.impl.BaseHostResource">
        <map-to xml="cluster-node"/>
        <field name="Name" type="string">
            <bind-xml name="name" node="attribute"/>
        </field>
    </class>

    <!-- Job scheduler -->
    <class name="org.gridlab.gridsphere.services.job.impl.BaseJobScheduler"
           extends="org.gridlab.gridsphere.services.resource.impl.BaseResource">
        <map-to xml="job-scheduler"/>
        <field name="JobSchedulerTypeName" type="string">
            <bind-xml name="type" node="attribute"/>
        </field>
    </class>

    <!-- Gram job manager -->
    <class name="org.gridlab.gridsphere.services.resources.gram.GramJobManager"
           extends="org.gridlab.gridsphere.services.job.impl.BaseJobScheduler">
        <map-to xml="gram-job-manager"/>
        <field name="Name" type="string">
            <bind-xml name="name" node="attribute"/>
        </field>
    </class>

    <!-- Job queue -->
    <class name="org.gridlab.gridsphere.services.job.impl.BaseJobQueue"
           extends="org.gridlab.gridsphere.services.resource.impl.BaseResource">
        <map-to xml="job-queue"/>
        <field name="Name" type="string">
            <bind-xml name="name" node="attribute"/>
        </field>
        <field name="IsEnabled" type="boolean">
            <bind-xml name="enabled" node="attribute"/>
        </field>
        <field name="MaxNumNodes" type="int">
            <bind-xml name="nodes" node="attribute"/>
        </field>
    </class>

    <!-- Resource account -->
    <class name="org.gridlab.gridsphere.services.resource.impl.BaseResourceAccount"
           extends="org.gridlab.gridsphere.services.resource.impl.BaseResource">
        <field name="UserId" type="string">
            <bind-xml name="userid" node="attribute"/>
        </field>

    </class>

    <!-- Hardware account -->
    <class name="org.gridlab.gridsphere.services.resource.impl.HardwareAccountImpl"
           extends="org.gridlab.gridsphere.services.resource.impl.BaseResourceAccount">
        <map-to xml="hardware-account"/>
        <field name="HomeDir" type="string">
            <bind-xml name="homedir" node="attribute"/>
        </field>
        <field name="UserShell" type="string">
            <bind-xml name="usershell" node="attribute"/>
        </field>
        <field name="UserDns" type="string" collection="arraylist">
            <bind-xml name="userdn"/>
        </field>
    </class>

    <!-- Service resource -->
    <class name="org.gridlab.gridsphere.services.resource.impl.BaseServiceResource" extends="org.gridlab.gridsphere.services.resource.impl.BaseResource">
        <field name="Port" type="string">
            <bind-xml name="port" node="attribute"/>
        </field>
        <field name="Protocol" type="string">
            <bind-xml name="protocol" node="attribute"/>
        </field>
        <field name="ServicePath" type="string">
            <bind-xml name="servicepath" node="attribute"/>
        </field>
    </class>

    <!-- Gram resource -->
    <class name="org.gridlab.gridsphere.services.resources.gram.GramResource" extends="org.gridlab.gridsphere.services.resource.impl.BaseServiceResource">
        <map-to xml="gram-resource"/>
    </class>

    <!-- Grid ftp resource -->
    <class name="org.gridlab.gridsphere.services.resources.gridftp.GridFtpResource" extends="org.gridlab.gridsphere.services.resource.impl.BaseServiceResource">
        <map-to xml="gridftp-resource"/>
        <field name="DataChannelAuth" type="boolean">
            <bind-xml name="dcau" node="attribute"/>
        </field>
    </class>

    <!-- Grid ssh resource -->
    <class name="org.gridlab.gridsphere.services.resources.gridssh.GridSshResource" extends="org.gridlab.gridsphere.services.resource.impl.BaseServiceResource">
        <map-to xml="gridssh-resource"/>
    </class>

    <!-- Local host resource -->
    <class name="org.gridlab.gridsphere.services.resources.system.LocalHostResource" extends="org.gridlab.gridsphere.services.resource.impl.BaseServiceResource">
        <map-to xml="localhost-resource"/>
    </class>

    <!-- Map resource -->
    <class name="org.gridlab.gridsphere.services.resources.map.MapResource" extends="org.gridlab.gridsphere.services.resource.impl.BaseServiceResource">
        <map-to xml="map-resource"/>
    </class>


    <!-- Web service resource -->
    <class name="org.gridlab.gridsphere.services.resource.impl.BaseWebServiceResource" extends="org.gridlab.gridsphere.services.resource.impl.BaseServiceResource">
        <map-to xml="webservice-service"/>
    </class>

    <!-- Httpg service resource -->
    <class name="org.gridlab.gridsphere.services.security.gss.impl.BaseHttpgServiceResource" extends="org.gridlab.gridsphere.services.resource.impl.BaseWebServiceResource">
        <map-to xml="httpgservice-resource"/>
        <field name="Delegation" type="string">
            <bind-xml name="delegation" node="attribute"/>
        </field>
        <field name="Authorization" type="string">
            <bind-xml name="authorization" node="attribute"/>
        </field>
        <field name="ServiceDn" type="string">
            <bind-xml name="serviceDn" node="attribute"/>
        </field>
        <field name="TimeOut" type="string">
            <bind-xml name="timeOut" node="attribute"/>
        </field>
    </class>

    <!-- MyProxy resource -->
    <class name="org.gridlab.gridsphere.services.resources.myproxy.MyProxyResource" extends="org.gridlab.gridsphere.services.resource.impl.BaseServiceResource">
        <map-to xml="myproxy-resource"/>
        <field name="UsePortalCredential" type="boolean">
            <bind-xml name="usePortalCredential" node="attribute"/>
        </field>
        <field name="AuthorizedProxyFile" type="string">
            <bind-xml name="authorizedProxyFile" node="attribute"/>
        </field>
        <field name="AuthorizedCertFile" type="string">
            <bind-xml name="authorizedCertFile" node="attribute"/>
        </field>
        <field name="AuthorizedKeyFile" type="string">
            <bind-xml name="authorizedKeyFile" node="attribute"/>
        </field>
        <field name="PortalProxyFile" type="string">
            <bind-xml name="portalProxyFile" node="attribute"/>
        </field>
        <field name="PortalCertificateFile" type="string">
            <bind-xml name="portalCertFile" node="attribute"/>
        </field>
        <field name="PortalKeyFile" type="string">
            <bind-xml name="portalKeyFile" node="attribute"/>
        </field>
    </class>

    <!-- Ldap resource -->
    <class name="org.gridlab.gridsphere.services.resources.ldap.LdapResource" extends="org.gridlab.gridsphere.services.resource.impl.BaseServiceResource">
        <map-to xml="ldap-resource"/>
        <field name="BaseDN" type="string">
            <bind-xml name="basedn" node="attribute"/>
        </field>
        <field name="Authentication" type="string">
            <bind-xml name="authentication" node="attribute"/>
        </field>
        <field name="Timeout" type="string">
            <bind-xml name="timeout" node="attribute"/>
        </field>
    </class>

    <!-- Mds2 resource -->
    <class name="org.gridlab.gridsphere.services.resources.mds2.Mds2Resource" extends="org.gridlab.gridsphere.services.resources.ldap.LdapResource">
        <map-to xml="mds2-resource"/>
    </class>

    <!-- GIIS resource -->
    <class name="org.gridlab.gridsphere.services.resources.mds2.GIISResource" extends="org.gridlab.gridsphere.services.resources.mds2.Mds2Resource">
        <map-to xml="giis-resource"/>
    </class>

    <!-- GRIS resource -->
    <class name="org.gridlab.gridsphere.services.resources.mds2.GRISResource" extends="org.gridlab.gridsphere.services.resources.mds2.Mds2Resource">
        <map-to xml="gris-resource"/>
    </class>

    <!-- Software resource -->
    <class name="org.gridlab.gridsphere.services.resource.impl.BaseSoftwareResource" extends="org.gridlab.gridsphere.services.resource.impl.BaseResource">
        <map-to xml="software-resource"/>
        <field name="Path" type="string">
            <bind-xml name="path" node="attribute"/>
        </field>
    </class>

</mapping>
